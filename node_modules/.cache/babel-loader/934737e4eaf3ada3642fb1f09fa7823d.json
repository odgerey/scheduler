{"ast":null,"code":"var _jsxFileName = \"/Users/michel/lighthouse/w7/sched/src/components/Appointment/index.js\";\n// import Appointment from \"components/Appointment/index\";\nimport React from \"react\";\nimport \"components/Appointment/styles.scss\";\nimport useVisualMode from \"hooks/useVisualMode\";\nimport Header from \"./header\";\nimport Show from \"./Show\";\nimport Empty from \"./Empty\";\nimport Form from \"components/Appointment/Form\";\nimport Confirm from \"./Confirm\";\nimport Status from \"./Status\";\nimport Error from \"./Error\";\nexport default function Appointment(props) {\n  const EMPTY = \"EMPTY\";\n  const SHOW = \"SHOW\";\n  const CREATE = \"CREATE\";\n  const SAVING = \"SAVING\";\n  const DELETING = \"DELETING\";\n  const CONFIRM = \"CONFIRM\";\n  const EDIT = \"EDIT\";\n  const ERROR_SAVE = \"ERROR_SAVE\";\n  const ERROR_DELETE = \"ERROR_DELETE\";\n  const {\n    mode,\n    transition,\n    back\n  } = useVisualMode(props.interview ? SHOW : EMPTY);\n\n  function onAdd() {\n    transition(CREATE);\n  }\n\n  function onCancel() {\n    back();\n  }\n\n  function save(name, interviewer) {\n    const interview = {\n      student: name,\n      interviewer\n    };\n    transition(SAVING, true);\n    props.bookInterview(props.id, interview).then(() => transition(SHOW)).catch(error => {\n      console.log(\"API call failed\");\n      transition(ERROR_SAVE);\n    });\n  }\n\n  function onConfirm() {\n    transition(DELETING, true);\n    props.cancelInterview(props.id).then(() => transition(EMPTY)).catch(error => {\n      transition(ERROR_DELETE);\n    });\n  } // function destroy(event) {\n  // transition(DELETING, true);\n  // props.cancelInterview(props.id) ? transition(EMPTY) : transition(ERROR_DELETE, true)\n  // }\n  // destroy()\n\n\n  function onEdit() {\n    console.log(\"Editing =>\", props.interview.interviewer);\n    transition(EDIT);\n  }\n\n  function onDelete() {\n    transition(CONFIRM);\n  } // function onConfirm() {\n  //   transition(DELETING);\n  //   props.cancelInterview(props.id) ? transition(EMPTY) : transition(ERROR_DELETE)\n  // }\n\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n    time: props.time,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"article\", {\n    className: \"appointment\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  }, mode === EMPTY && /*#__PURE__*/React.createElement(Empty, {\n    onAdd: onAdd,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  }), mode === SHOW && /*#__PURE__*/React.createElement(Show, {\n    student: props.interview.student,\n    interviewer: props.interview.interviewer,\n    onDelete: onDelete,\n    onEdit: onEdit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }), mode === CREATE && /*#__PURE__*/React.createElement(Form, {\n    interviewers: props.interviewers,\n    onSave: save,\n    onCancel: onCancel,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 11\n    }\n  }), mode === SAVING && /*#__PURE__*/React.createElement(Status, {\n    message: \"Saving\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 11\n    }\n  }), mode === DELETING && /*#__PURE__*/React.createElement(Status, {\n    message: \"Deleting\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 11\n    }\n  }), mode === CONFIRM && /*#__PURE__*/React.createElement(Confirm, {\n    message: \"Cancel appointment?\",\n    onCancel: onCancel,\n    onConfirm: onConfirm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 11\n    }\n  }), mode === EDIT && /*#__PURE__*/React.createElement(Form, {\n    interviewers: props.interviewers,\n    onCancel: onCancel,\n    onSave: save,\n    name: props.interview.student,\n    interviewer: props.interview.interviewer.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 11\n    }\n  }), mode === ERROR_SAVE && /*#__PURE__*/React.createElement(Error, {\n    message: \"Error, appointment was not saved\",\n    onClose: onCancel,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 11\n    }\n  }), mode === ERROR_DELETE && /*#__PURE__*/React.createElement(Error, Object.assign({\n    message: \"Error, appointment was not deleted\",\n    onClose: true\n  }, onCancel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 11\n    }\n  }))));\n}","map":{"version":3,"sources":["/Users/michel/lighthouse/w7/sched/src/components/Appointment/index.js"],"names":["React","useVisualMode","Header","Show","Empty","Form","Confirm","Status","Error","Appointment","props","EMPTY","SHOW","CREATE","SAVING","DELETING","CONFIRM","EDIT","ERROR_SAVE","ERROR_DELETE","mode","transition","back","interview","onAdd","onCancel","save","name","interviewer","student","bookInterview","id","then","catch","error","console","log","onConfirm","cancelInterview","onEdit","onDelete","time","interviewers"],"mappings":"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","sourcesContent":["// import Appointment from \"components/Appointment/index\";\nimport React from \"react\";\nimport \"components/Appointment/styles.scss\";\n\nimport useVisualMode from \"hooks/useVisualMode\"\n\nimport Header from \"./header\";\nimport Show from \"./Show\";\nimport Empty from \"./Empty\";\nimport Form from \"components/Appointment/Form\"\nimport Confirm from \"./Confirm\"\nimport Status from \"./Status\"\nimport Error from \"./Error\"\n\n\n\nexport default function Appointment (props) {\n  const EMPTY = \"EMPTY\";\n  const SHOW = \"SHOW\";\n  const CREATE = \"CREATE\";\n  const SAVING = \"SAVING\";\n  const DELETING = \"DELETING\";\n  const CONFIRM = \"CONFIRM\";\n  const EDIT = \"EDIT\";\n  const ERROR_SAVE = \"ERROR_SAVE\";\n  const ERROR_DELETE = \"ERROR_DELETE\";\n\n  const { mode, transition, back } = useVisualMode (\n    props.interview ? SHOW : EMPTY\n  );\n\n  function onAdd() {\n    transition(CREATE)\n  }\n\n  function onCancel() {\n    back()\n  }\n\n\n  function save(name, interviewer) {\n    const interview = {\n      student: name,\n      interviewer\n    };\n\n    transition(SAVING, true);\n    props\n      .bookInterview(props.id, interview)\n      .then(() => transition(SHOW))\n      .catch(error => {\n        console.log(\"API call failed\")\n        transition(ERROR_SAVE)});\n  }\n  function onConfirm() {\n    transition(DELETING,true);\n    props\n      .cancelInterview(props.id) \n      .then(() => transition(EMPTY))\n      .catch(error => {transition(ERROR_DELETE)})\n  }\n    // function destroy(event) {\n    // transition(DELETING, true);\n    // props.cancelInterview(props.id) ? transition(EMPTY) : transition(ERROR_DELETE, true)\n    // }\n    // destroy()\n  \n\n\n  function onEdit() {\n    console.log(\"Editing =>\", props.interview.interviewer)\n    transition(EDIT)\n  }\n\n\n  function onDelete() {\n    transition(CONFIRM);\n  }\n\n  // function onConfirm() {\n  //   transition(DELETING);\n  //   props.cancelInterview(props.id) ? transition(EMPTY) : transition(ERROR_DELETE)\n  // }\n\n   \n  return (\n    <> \n      <Header time={props.time}/>\n      <article className=\"appointment\">\n        {mode === EMPTY && (\n          <Empty \n            onAdd={onAdd} \n          />\n        )}\n        {mode === SHOW && (\n          <Show\n            student={props.interview.student}\n            interviewer={props.interview.interviewer}\n            onDelete={onDelete}\n            onEdit={onEdit}\n          />\n        )}  \n        {mode === CREATE && (\n          <Form\n            interviewers={props.interviewers}\n            onSave={save}\n            onCancel={onCancel}\n          />\n        )}\n        {mode === SAVING && (\n          <Status\n            message=\"Saving\"\n          />\n        )}\n        {mode === DELETING && (\n          <Status\n            message=\"Deleting\"\n          />\n        )}\n        {mode === CONFIRM && (\n          <Confirm\n            message=\"Cancel appointment?\"\n            onCancel={onCancel}\n            onConfirm={onConfirm}\n          />\n        )}\n        {mode === EDIT && (\n          <Form\n            interviewers={props.interviewers}\n            onCancel={onCancel}\n            onSave={save}\n            name={props.interview.student}\n            interviewer={props.interview.interviewer.id}\n          />\n        )}\n        {mode === ERROR_SAVE && (\n          <Error\n            message=\"Error, appointment was not saved\"\n            onClose={onCancel}\n          />\n        )}\n        {mode === ERROR_DELETE && (\n          <Error\n            message=\"Error, appointment was not deleted\"\n            onClose{...onCancel}\n          />\n        )}\n      </article>\n    </>\n  )\n}"]},"metadata":{},"sourceType":"module"}